<!DOCTYPE html>
<html>
<head>
<title></title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<body>


<div class="Container" >					  
  <input style = "width:80%;" class="slider_range" type="range" value="0" min="0" max="1000"></input>						  
</div>



<script language = "javascript">

  function ShowSliderValue(sVal)
  {
    var obValueView = document.getElementById("slider_value_view");
    obValueView.innerHTML = sVal
  }

  var RangeSlider = function(){
    var range = $('.slider_range');
      
    range.on('input', function(){		
      ShowSliderValue(this.value);
    });
  };

  RangeSlider();


</script>

</body>
</html>



function sir_submit() {
  var sir_predicted = new SIR();
  var date = get_query().date;
  let url = getCovidUrlInOverview();

  $.ajax({
      type: "GET",
      url: url,
      dataType: "xml",
      success: function (xml) {
          $(xml).find("item").each(
              function() {
                  // Input data are reverse ordered.
                  sir_predicted.appendData(
                      new Data(
                          Number($(this).find("stateDt").text()),
                          Number($(this).find("deathCnt").text()),
                          Number($(this).find("decideCnt").text()) - Number($(this).find("clearCnt").text()) - Number($(this).find("deathCnt").text()),
                          Number($(this).find("clearCnt").text()),
                          0
                      )
                  );
              }
          );
          sir_predicted.evalDelta();

          // Simulate SIR
          sir_predicted.simulate(date);

          // Overall Chart
          var ctx = $("#overall_line-chart");
          var lineChart = new Chart(ctx, {
              type: 'line',
              data: {
                  labels: sir_predicted.getLabels(),
                  datasets: [
                      {
                          label: "Infected",
                          data: sir_predicted.getInfected(),
                          radius: 0,
                          backgroundColor: "rgba(255,0,0)",
                          borderColor: "rgb(255,0,0)",
                          borderWidth: 2,
                      },
                      {
                          label: "Recovered",
                          data: sir_predicted.getRecovered(),
                          radius: 0,
                          backgroundColor: "rgba(0,0,255)",
                          borderColor: "rgb(0,0,255)",
                          borderWidth: 2,
                      },
                  ]
              },
              options: {
                  maintainAspectRatio: false,
                  datasetFill : true,
              }
          });


          // Infected Chart
          var ctx = $("#infected_line-chart");
          var lineChart = new Chart(ctx, {
              type: 'line',
              data: {
                  labels: sir_predicted.getLabels(),
                  datasets: [
                      {
                          label: "Infected",
                          data: sir_predicted.getInfected(),
                          radius: 0,
                          backgroundColor: "rgba(255,0,0)",
                          borderColor: "rgb(255,0,0)",
                          borderWidth: 2,
                      },
                  ]
              },
              options: {
                  maintainAspectRatio: false,
                  datasetFill : true,
              }
          });

          // Recovered Chart
          var ctx = $("#recovered_line-chart");
          var lineChart = new Chart(ctx, {
              type: 'line',
              data: {
                  labels: sir_predicted.getLabels(),
                  datasets: [
                      {
                          label: "Recovered",
                          data: sir_predicted.getDeltaRecovered(),
                          radius: 0,
                          backgroundColor: "rgba(0,0,255)",
                          borderColor: "rgb(0,0,255)",
                          borderWidth: 2,
                      },
                  ]
              },
              options: {
                  maintainAspectRatio: false,
                  datasetFill : true,
              }
          });

          // Died Chart
          var ctx = $("#died_line-chart");
          var lineChart = new Chart(ctx, {
              type: 'line',
              data: {
                  labels: sir_predicted.getLabels(),
                  datasets: [
                      {
                          label: "Died",
                          data: sir_predicted.getDeltaDied(),
                          radius: 0,
                          backgroundColor: "rgba(255,255,255)",
                          borderColor: "rgb(255,255,255)",
                          borderWidth: 2,
                      },
                  ]
              },
              options: {
                  maintainAspectRatio: false,
                  datasetFill : true,
              }
          });

          $("#p_sir_info")
          .text(
              "after 0 days, " 
              + parseInt(sir_predicted.dataset[sir_predicted.dataset.length - 1].infected)
              + " infected , "
              + parseInt(sir_predicted.dataset[sir_predicted.dataset.length - 1].recovered)
              + " total recovered, and "
              + parseInt(sir_predicted.dataset[sir_predicted.dataset.length - 1].died)
              + " deaths are predicted.");

      }, // end of success function
  }); // end of ajax
}
출처: https://doolyit.tistory.com/52 [동해둘리의 IT Study]